<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Q3 2nd Graded Exercise">
    <meta name="keywords" content="HTML Forms">
    <meta name="author" content="AL Mendoza">
    <title>Sample Form</title>
    <!-- updated external css link to show how to share it between repository -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" href="../../assets/pshslogo.png" sizes="32x32" type="image/png">
   <style>
    body{
        padding: 25px;
        font-family: arial;
        width: 80%;
        margin-left: 10%;
    }
    table {
        border-collapse: collapse;
        width: 100%;
        margin-top: 10px;
    }
    table, th, td {
        border: 1px solid black;
        padding: 5px;
    }
    tr:nth-child(odd) {
      background: navy;
      color: white;
    }
    select {
        width: 250px;
        padding: 10px;
        font-size: 16px;
        border: 2px solid  navy;
        border-radius: 6px;
        background-color: #f9f9f9;
        color: #333;
        appearance: none; /* Remove default arrow (Chrome, Safari, Edge) */
        -moz-appearance: none; /* Firefox */
        -webkit-appearance: none; /* Safari */
        background-image: url("data:image/svg+xml;utf8,<svg fill='black' height='20' viewBox='0 0 24 24' width='20' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 16px;
    }

    /* Style the dropdown options */
    select option {
        padding: 10px;
        background-color: white;
        color: black;
    }

    /* Hover effect for options (works in some browsers) */
    select option:hover {
        background-color: #e0f7e9;
    }

    /* Optional: focus style */
    select:focus {
        outline: none;
        border-color: #2e7d32;
        box-shadow: 0 0 5px rgba(46, 125, 50, 0.5);
    }
    </style>
  </head>
  <body>
     <header>
        <div>
            <h1>
                Show List of Students Who Signed-Up    
            </h1>
            <h3>by Aline Mendoza </h3>
        </div>
        <nav class="navbar">
           <button type="button" id="signup"> Back to Sign-Ups </button>
           <button type="button" id="home"> Back to Home </button>
        </nav>
        <br/>
    </header>
    <section>
          <label> Select Your Club
            <select id="clubs" onchange="showClub(this.value)">
              <option disabled selected value> -- select an option -- </option>
              <option value="All"> All </option>
              <option value="AKSIS"> AKSIS </option>
              <option value="Bake Club"> Bake Club </option>
              <option value="Computron"> Computron </option>
              <option value="Himig Agham"> Himig Agham </option>
              <option value="Kamalayan"> Kamalayan </option>
              <option value="Sagala"> Sagala </option>
            </select>
          </label> 
          <p> Total Signup : <span id="tSignUps"> </span></p>
    </section>
    <section>

      <table id="results"> </table>
      
    </section>
    <script>
        // onclick event listeners for buttons
      signup.onclick = () => {
        window.location.href = "q3ge3Mendoza.html";
      }

      home.onclick = () => {
        window.location.href = "../../index.html";
      }

      function showClub(theClub) {
        totalSignUp = 0;        // to ready the counter
        // read from the localStorage saved as a string - to see if there are anything saved on the users coomputer
        let signupString = localStorage.getItem("clubsignups")
        if (!signupString) { rowString = "No Accounts Found" } // initialize the variable to contain the list of accounts object
        else {
            signupsList = JSON.parse(signupString) // converts string into the correct data type in this case object    
            rowString = "";
            results.innerHTML = ""  // resets the table
            for (let key in signupsList) {
              if (signupsList[key].clubs == theClub || theClub == 'All') {
                rowString += "<tr>";
                rowString += "<td>" + signupsList[key].clubs + "</td>";
                rowString += "<td>" + key + "</td>";
                rowString += "<td>" + signupsList[key].fname + "</td>";
                rowString += "<td>" + signupsList[key].grade + "</td>";
                rowString += "<td>" + signupsList[key].semail + "</td>";
                rowString += "<td>" + signupsList[key].phone + "</td>";
                rowString += "<td>" + signupsList[key].inex + "</td></tr>";
                totalSignUp++
              }
            }
        }
        if (rowString) {
          rowString = "<tr><th>Club</th><th>ID</th><th>Fullname</th><th>Grade</th><th>Email</th><th>Mobile</th><th>Intern|Extern</th></tr>"+rowString;
          results.innerHTML = rowString;
          tSignUps.innerHTML = totalSignUp;
        }
        else {
          results.innerHTML = "No Sign Ups for the club";
          tSignUps.innerHTML = ""
        }
        
      }
      
      showClub('All') // call the club initially.


    </script>
  </body>
</html>